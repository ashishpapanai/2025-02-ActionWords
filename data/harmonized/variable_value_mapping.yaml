# Complete Variable-to-Value Mapping for ISSP Harmonized Data
# Programmatic structure for easy Python access
# Usage:
#   import yaml
#   with open('variable_value_mapping.yaml') as f:
#       mapping = yaml.safe_load(f)
#   label = mapping['variables']['task_laundry']['codes'][1]['label']

version: "1.0"
description: "Programmatic mapping of all harmonized variables to their response codes"

# ============================================================================
# SHARED CODE SCALES (reusable definitions)
# ============================================================================

shared_scales:
  likert_5_agreement:
    description: "5-point Likert agreement scale"
    codes:
      1: "Strongly agree"
      2: "Agree"
      3: "Neither agree nor disagree"
      4: "Disagree"
      5: "Strongly disagree"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  task_division:
    description: "Who performs household task (respondent-centric)"
    codes:
      1: "Always me"
      2: "Usually me"
      3: "About equal / both together"
      4: "Usually spouse/partner"
      5: "Always spouse/partner"
      6: "Done by a third person (outsourced)"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  frequency_5:
    description: "5-point frequency scale"
    codes:
      1: "Always"
      2: "Often"
      3: "Sometimes"
      4: "Rarely"
      5: "Never"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  fairness_5:
    description: "Perception of fairness in task division"
    codes:
      1: "I do much more than my fair share"
      2: "I do a bit more than my fair share"
      3: "I do roughly my fair share"
      4: "My spouse/partner does a bit more than their fair share"
      5: "My spouse/partner does much more than their fair share"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"

# ============================================================================
# VARIABLE MAPPINGS (programmatic structure)
# ============================================================================

variables:
  # ===== Survey Identifiers =====
  survey_year:
    type: "identifier"
    category: "survey_identifiers"
    description: "Survey wave year"
    codes:
      2002: "2002"
      2012: "2012"
      2022: "2022"
  
  country_code:
    type: "identifier"
    category: "survey_identifiers"
    description: "Numeric country code (ISO 3166 or ISSP internal)"
    note: "Values range from 1 to ~840; use country_alpha for ISO codes"
    codes: "continuous_integer"  # Too many unique values to list
  
  country_alpha:
    type: "identifier"
    category: "survey_identifiers"
    description: "Alphanumeric country code (ISO 3166-1 alpha-2 or variants)"
    note: "Examples: AT, AU, DE, DE-E, DE-W, GB-GBN, GB-NIR, US, FR, ES, etc."
    codes: "categorical_string"  # ~48 unique country codes
  
  respondent_id:
    type: "identifier"
    category: "survey_identifiers"
    description: "Unique respondent identifier within survey wave"
    codes: "continuous_float"  # Unique per respondent
  
  # ===== Gender Ideology Attitudes =====
  att_warm_relationship:
    type: "categorical"
    category: "attitudes_gender_ideology"
    description: "Q1a: Working mom can establish as warm relationship as a not working mom"
    note: "Reverse-coded: higher = more egalitarian"
    uses_scale: "likert_5_agreement"
    codes:
      1: "Strongly agree"
      2: "Agree"
      3: "Neither agree nor disagree"
      4: "Disagree"
      5: "Strongly disagree"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  att_child_suffers:
    type: "categorical"
    category: "attitudes_gender_ideology"
    description: "Q1b: Pre-school child is likely to suffer if mother works"
    note: "Reverse-coded: higher = more egalitarian (disagrees child suffers)"
    uses_scale: "likert_5_agreement"
    codes:
      1: "Strongly agree"
      2: "Agree"
      3: "Neither agree nor disagree"
      4: "Disagree"
      5: "Strongly disagree"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  att_family_suffers:
    type: "categorical"
    category: "attitudes_gender_ideology"
    description: "Q1c: Family life suffers when woman has full-time job"
    note: "Reverse-coded: higher = more egalitarian"
    uses_scale: "likert_5_agreement"
    codes:
      1: "Strongly agree"
      2: "Agree"
      3: "Neither agree nor disagree"
      4: "Disagree"
      5: "Strongly disagree"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  att_women_want_home:
    type: "categorical"
    category: "attitudes_gender_ideology"
    description: "Q1d: What women really want is home and kids"
    note: "Reverse-coded: higher = more egalitarian"
    uses_scale: "likert_5_agreement"
    codes:
      1: "Strongly agree"
      2: "Agree"
      3: "Neither agree nor disagree"
      4: "Disagree"
      5: "Strongly disagree"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  att_housewife_fulfilling:
    type: "categorical"
    category: "attitudes_gender_ideology"
    description: "Q1e: Being housewife is as fulfilling as working for pay"
    uses_scale: "likert_5_agreement"
    codes:
      1: "Strongly agree"
      2: "Agree"
      3: "Neither agree nor disagree"
      4: "Disagree"
      5: "Strongly disagree"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  att_male_breadwinner:
    type: "categorical"
    category: "attitudes_gender_ideology"
    description: "Q2b / Q1f: Men's job earn money, women's job look after home"
    note: "Reverse-coded: higher = more egalitarian"
    uses_scale: "likert_5_agreement"
    codes:
      1: "Strongly agree"
      2: "Agree"
      3: "Neither agree nor disagree"
      4: "Disagree"
      5: "Strongly disagree"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  # ===== Time / Hours (Behavior) =====
  hh_work_hours_respondent:
    type: "continuous"
    category: "behavior_time_use"
    description: "Q9a / Q16a / Q15a: How many hours do you spend on household work"
    unit: "hours per week"
    note: "Self-reported estimate. Check for top-coding. Negative values = missing"
  
  hh_work_hours_partner:
    type: "continuous"
    category: "behavior_time_use"
    description: "Q9b / Q17a / Q16a: How many hours spouse/partner works on household"
    unit: "hours per week"
    note: "Self-reported estimate of partner's hours. Negative values = missing"
  
  hh_family_hours_respondent:
    type: "continuous"
    category: "behavior_time_use"
    description: "Q16b / Q15b: How many hours spend on family members"
    unit: "hours per week"
    availability: "Not available in 2002"
    note: "Care work hours. Negative values = missing"
  
  hh_family_hours_partner:
    type: "continuous"
    category: "behavior_time_use"
    description: "Q17b / Q16b: How many hours spouse/partner spends on family members"
    unit: "hours per week"
    availability: "Not available in 2002"
    note: "Partner's care work hours. Negative values = missing"
  
  # ===== Division of Tasks (Behavior) =====
  task_laundry:
    type: "categorical"
    category: "behavior_task_division"
    description: "Q8a / Q19a / Q18a: Division of household work - doing the laundry"
    uses_scale: "task_division"
    codes:
      1: "Always me"
      2: "Usually me"
      3: "About equal / both together"
      4: "Usually spouse/partner"
      5: "Always spouse/partner"
      6: "Done by a third person (outsourced)"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  task_small_repairs:
    type: "categorical"
    category: "behavior_task_division"
    description: "Q8b / Q19b: Division of household work - small repairs"
    availability: "Not available in 2022"
    uses_scale: "task_division"
    codes:
      1: "Always me"
      2: "Usually me"
      3: "About equal / both together"
      4: "Usually spouse/partner"
      5: "Always spouse/partner"
      6: "Done by a third person (outsourced)"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  task_care_sick:
    type: "categorical"
    category: "behavior_task_division"
    description: "Q8c / Q19c / Q18c: Division of household work - care for sick family members"
    uses_scale: "task_division"
    codes:
      1: "Always me"
      2: "Usually me"
      3: "About equal / both together"
      4: "Usually spouse/partner"
      5: "Always spouse/partner"
      6: "Done by a third person (outsourced)"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  task_grocery:
    type: "categorical"
    category: "behavior_task_division"
    description: "Q8d / Q19d / Q18d: Division of household work - shops for groceries"
    uses_scale: "task_division"
    codes:
      1: "Always me"
      2: "Usually me"
      3: "About equal / both together"
      4: "Usually spouse/partner"
      5: "Always spouse/partner"
      6: "Done by a third person (outsourced)"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  task_cleaning:
    type: "categorical"
    category: "behavior_task_division"
    description: "Q8e / Q19e / Q18e: Division of household work - household cleaning"
    uses_scale: "task_division"
    codes:
      1: "Always me"
      2: "Usually me"
      3: "About equal / both together"
      4: "Usually spouse/partner"
      5: "Always spouse/partner"
      6: "Done by a third person (outsourced)"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  task_meals:
    type: "categorical"
    category: "behavior_task_division"
    description: "Q8f / Q19f / Q18f: Division of household work - preparing meals"
    uses_scale: "task_division"
    codes:
      1: "Always me"
      2: "Usually me"
      3: "About equal / both together"
      4: "Usually spouse/partner"
      5: "Always spouse/partner"
      6: "Done by a third person (outsourced)"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  task_fairness:
    type: "categorical"
    category: "behavior_task_division"
    description: "Q10 / Q20 / Q19: Sharing of household work between partners"
    uses_scale: "fairness_5"
    codes:
      1: "I do much more than my fair share"
      2: "I do a bit more than my fair share"
      3: "I do roughly my fair share"
      4: "My spouse/partner does a bit more than their fair share"
      5: "My spouse/partner does much more than their fair share"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  # ===== Cognitive Labor Proxy =====
  income_sharing:
    type: "categorical"
    category: "cognitive_labor_proxy"
    description: "Q7 / Q18 / Q17: Sharing of income between partners"
    note: "Exact codes may vary by year; common scheme below"
    codes:
      1: "I manage all the money"
      2: "I manage most of the money"
      3: "We share equally"
      4: "Partner manages most of the money"
      5: "Partner manages all the money"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  social_planning:
    type: "categorical"
    category: "cognitive_labor_proxy"
    description: "Q13a / Q21 / Q18b: Final say - choosing weekend activities / planning social/family activities"
    uses_scale: "task_division"
    codes:
      1: "Always me"
      2: "Usually me"
      3: "About equal / both together"
      4: "Usually spouse/partner"
      5: "Always spouse/partner"
      6: "Done by a third person (outsourced)"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  # ===== Work-Life Conflict =====
  conflict_tired_work:
    type: "categorical"
    category: "work_life_conflict"
    description: "Q16a / Q23a / Q20a: Too tired from work to do duties at home"
    uses_scale: "frequency_5"
    codes:
      1: "Always"
      2: "Often"
      3: "Sometimes"
      4: "Rarely"
      5: "Never"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  conflict_difficult_family:
    type: "categorical"
    category: "work_life_conflict"
    description: "Q16b / Q23b / Q20b: Difficult to fulfill family responsibilities"
    uses_scale: "frequency_5"
    codes:
      1: "Always"
      2: "Often"
      3: "Sometimes"
      4: "Rarely"
      5: "Never"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  conflict_tired_household:
    type: "categorical"
    category: "work_life_conflict"
    description: "Q16c / Q23c / Q20c: Too tired from household work to function in job"
    uses_scale: "frequency_5"
    codes:
      1: "Always"
      2: "Often"
      3: "Sometimes"
      4: "Rarely"
      5: "Never"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  conflict_concentrate_work:
    type: "categorical"
    category: "work_life_conflict"
    description: "Q16d / Q23d / Q20d: Difficult to concentrate at work"
    uses_scale: "frequency_5"
    codes:
      1: "Always"
      2: "Often"
      3: "Sometimes"
      4: "Rarely"
      5: "Never"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  # ===== Demographics =====
  sex:
    type: "categorical"
    category: "demographics"
    description: "Respondent's sex/gender"
    codes:
      1: "Male"
      2: "Female"
    missing: "NaN or negative values = missing"
  
  age:
    type: "continuous"
    category: "demographics"
    description: "Respondent's age in years"
    unit: "years"
    note: "Negative values = missing"
  
  birth_year:
    type: "continuous"
    category: "demographics"
    description: "Year of birth"
    unit: "year (e.g., 1950, 1980)"
    availability: "Not available in 2002"
    note: "Can be derived from age and survey_year"
  
  education_years:
    type: "continuous"
    category: "demographics"
    description: "Years of full-time schooling"
    unit: "years"
    note: "Negative values = missing"
  
  education_level:
    type: "categorical"
    category: "demographics"
    description: "Highest completed degree of education"
    note: "Coding scheme may vary by country/year. Common: 1=Less than high school, 2=High school, 3=Some college/vocational, 4=College degree, 5=Graduate degree"
    codes:
      1: "Less than high school"
      2: "High school"
      3: "Some college / vocational"
      4: "College degree"
      5: "Graduate degree"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  marital_status:
    type: "categorical"
    category: "demographics"
    description: "Respondent's current marital status"
    codes:
      1: "Married"
      2: "Living as married / Cohabiting"
      3: "Divorced"
      4: "Separated"
      5: "Widowed"
      6: "Never married / Single"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  living_partnership:
    type: "categorical"
    category: "demographics"
    description: "Whether respondent lives in a steady partnership"
    codes:
      1: "Yes"
      2: "No"
    missing: "NaN = missing"
  
  household_size:
    type: "continuous"
    category: "demographics"
    description: "Number of people in household"
    unit: "count"
    note: "Negative values = missing"
  
  children_above_school:
    type: "continuous"
    category: "demographics"
    description: "Number of children above school age (typically 6-17 years)"
    unit: "count"
    note: "Negative values = missing / no children"
  
  children_below_school:
    type: "continuous"
    category: "demographics"
    description: "Number of children below school age (typically 0-5 years)"
    unit: "count"
    note: "Negative values = missing / no children"
  
  # ===== Employment =====
  work_status:
    type: "categorical"
    category: "employment"
    description: "Respondent's current employment status"
    codes:
      1: "Working full-time"
      2: "Working part-time"
      5: "Unemployed / Looking for work"
      6: "Student"
      7: "Retired"
      8: "Housewife / Homemaker"
      10: "Other (e.g., disabled, on leave)"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  work_hours:
    type: "continuous"
    category: "employment"
    description: "Hours worked per week (if employed)"
    unit: "hours per week"
    note: "Negative values = missing / not employed"
  
  occupation:
    type: "categorical"
    category: "employment"
    description: "Occupation code (ISCO classification)"
    note: "ISCO88 (2002, 2012) or ISCO08 (2022) 4-digit codes. Codes not directly comparable across versions."
    codes: "continuous_integer"  # ISCO codes are 4-digit integers
  
  main_status:
    type: "categorical"
    category: "employment"
    description: "Main activity status"
    availability: "Not available in 2002"
    note: "Exact codes vary by country/year; check original documentation"
  
  # ===== Partner Employment =====
  partner_work_status:
    type: "categorical"
    category: "partner_employment"
    description: "Spouse/partner's current employment status"
    codes:
      1: "Working full-time"
      2: "Working part-time"
      5: "Unemployed / Looking for work"
      6: "Student"
      7: "Retired"
      8: "Housewife / Homemaker"
      10: "Other (e.g., disabled, on leave)"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  partner_work_hours:
    type: "continuous"
    category: "partner_employment"
    description: "Partner's hours worked per week (if employed)"
    unit: "hours per week"
    note: "Negative values = missing / partner not employed"
  
  partner_occupation:
    type: "categorical"
    category: "partner_employment"
    description: "Partner's occupation code (ISCO classification)"
    note: "ISCO88 (2002, 2012) or ISCO08 (2022) 4-digit codes"
    codes: "continuous_integer"  # ISCO codes are 4-digit integers
  
  partner_main_status:
    type: "categorical"
    category: "partner_employment"
    description: "Partner's main activity status"
    availability: "Not available in 2002"
    note: "Exact codes vary by country/year"
  
  partner_education:
    type: "categorical"
    category: "partner_employment"
    description: "Partner's highest completed degree of education"
    note: "See education_level for coding scheme"
    codes:
      1: "Less than high school"
      2: "High school"
      3: "Some college / vocational"
      4: "College degree"
      5: "Graduate degree"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  # ===== Additional Attitudes =====
  should_work_child_preschool:
    type: "categorical"
    category: "attitudes_additional"
    description: "Q3b / Q3a / Q3a: Should women work - child under school age"
    uses_scale: "likert_5_agreement"
    codes:
      1: "Strongly agree"
      2: "Agree"
      3: "Neither agree nor disagree"
      4: "Disagree"
      5: "Strongly disagree"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  should_work_child_school:
    type: "categorical"
    category: "attitudes_additional"
    description: "Q3c / Q3b / Q3b: Should women work - youngest kid at school"
    uses_scale: "likert_5_agreement"
    codes:
      1: "Strongly agree"
      2: "Agree"
      3: "Neither agree nor disagree"
      4: "Disagree"
      5: "Strongly disagree"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  happiness:
    type: "categorical"
    category: "attitudes_additional"
    description: "Q17 / Q24 / Q26: Life in general - how happy on the whole"
    note: "Exact scale may vary by country/year"
    codes:
      1: "Very happy"
      2: "Quite happy"
      3: "Not very happy"
      4: "Not at all happy"
    missing:
      -4: "Not applicable"
      -8: "Can't choose / Don't know"
      -9: "Missing / No answer"
  
  # ===== Weights =====
  weight:
    type: "continuous"
    category: "weights"
    description: "Survey weight for population-representative estimates"
    unit: "weight (dimensionless)"
    note: "Use weights for population-representative analyses. Negative values should not occur."

# ============================================================================
# HELPER FUNCTIONS (Python usage examples)
# ============================================================================

# Example usage in Python:
#
# import yaml
# 
# with open('variable_value_mapping.yaml', 'r') as f:
#     mapping = yaml.safe_load(f)
# 
# # Get codes for a variable
# task_laundry_codes = mapping['variables']['task_laundry']['codes']
# print(task_laundry_codes[1])  # "Always me"
# 
# # Get all variables in a category
# task_vars = {k: v for k, v in mapping['variables'].items() 
#              if v.get('category') == 'behavior_task_division'}
# 
# # Get shared scale
# likert_scale = mapping['shared_scales']['likert_5_agreement']['codes']
# 
# # Check if variable uses a shared scale
# if 'uses_scale' in mapping['variables']['att_warm_relationship']:
#     scale_name = mapping['variables']['att_warm_relationship']['uses_scale']
#     codes = mapping['shared_scales'][scale_name]['codes']
